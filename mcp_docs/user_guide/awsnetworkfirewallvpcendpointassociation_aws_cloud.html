<!-- Source URL: https://docs.aws.amazon.com/AWSCloudFormation/latest/TemplateReference/aws-resource-networkfirewall-vpcendpointassociation.html -->
<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>AWS::NetworkFirewall::VpcEndpointAssociation - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="aws-resource-networkfirewall-vpcendpointassociation" /><meta name="default_state" content="aws-resource-networkfirewall-vpcendpointassociation" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/TemplateReference/aws-resource-networkfirewall-vpcendpointassociation.html" /><meta name="description" content="You can use VPC endpoint associations to expand the protections of the firewall as follows:" /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="Template Reference" /><meta name="abstract" content="Describes the resource types, resource properties, resource attributes, intrinsic functions, and transforms that you can use in CloudFormation templates." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json;toc-AWS_NetworkFirewall.json" /><link rel="canonical" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/TemplateReference/aws-resource-networkfirewall-vpcendpointassociation.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/TemplateReference/aws-resource-networkfirewall-vpcendpointassociation.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/TemplateReference/aws-resource-networkfirewall-vpcendpointassociation.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/TemplateReference/aws-resource-networkfirewall-vpcendpointassociation.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/TemplateReference/aws-resource-networkfirewall-vpcendpointassociation.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/TemplateReference/aws-resource-networkfirewall-vpcendpointassociation.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/TemplateReference/aws-resource-networkfirewall-vpcendpointassociation.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/TemplateReference/aws-resource-networkfirewall-vpcendpointassociation.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/TemplateReference/aws-resource-networkfirewall-vpcendpointassociation.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/TemplateReference/aws-resource-networkfirewall-vpcendpointassociation.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/TemplateReference/aws-resource-networkfirewall-vpcendpointassociation.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/TemplateReference/aws-resource-networkfirewall-vpcendpointassociation.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/TemplateReference/aws-resource-networkfirewall-vpcendpointassociation.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/TemplateReference/aws-resource-networkfirewall-vpcendpointassociation.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/TemplateReference/aws-resource-networkfirewall-vpcendpointassociation.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/TemplateReference/aws-resource-networkfirewall-vpcendpointassociation.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/TemplateReference/aws-resource-networkfirewall-vpcendpointassociation.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/TemplateReference/aws-resource-networkfirewall-vpcendpointassociation.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/TemplateReference/aws-resource-networkfirewall-vpcendpointassociation.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/TemplateReference/aws-resource-networkfirewall-vpcendpointassociation.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/TemplateReference/aws-resource-networkfirewall-vpcendpointassociation.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/TemplateReference/aws-resource-networkfirewall-vpcendpointassociation.html" hreflang="x-default" /><meta name="feedback-item" content="AWS WAF" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="Template Reference" /><head xmlns="http://www.w3.org/1999/xhtml"> <script defer="" src="/assets/r/awsdocs-doc-page.2.0.0.js"></script><link href="/assets/r/awsdocs-doc-page.2.0.0.css" rel="stylesheet"/></head>
<script defer="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="Template Reference" /><meta id="panorama-serviceConsolePage" value="AWS::NetworkFirewall::VpcEndpointAssociation" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>AWS::NetworkFirewall::VpcEndpointAssociation - AWS CloudFormation</title><meta name="rss" content="aws-cloudformation-template-reference-updates.rss" /><meta name="forums" content="https://repost.aws/tags/TAm3R3LNU3RfSX9L23YIpo3w" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=AWS%20WAF&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/TemplateReference/aws-resource-networkfirewall-vpcendpointassociation.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/TemplateReference/aws-resource-networkfirewall-vpcendpointassociation.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/TemplateReference/aws-resource-networkfirewall-vpcendpointassociation.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,CloudFormation template reference" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Template Reference",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/TemplateReference"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "AWS Network Firewall resource type reference",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/TemplateReference/AWS_NetworkFirewall.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "AWS::NetworkFirewall::VpcEndpointAssociation",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/TemplateReference/AWS_NetworkFirewall.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"></div><div id="breadcrumbs" class="breadcrumb"><a href="/index.html">Documentation</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="AWS_NetworkFirewall.html">Template Reference</a></div><div id="page-toc-src"><a href="#aws-resource-networkfirewall-vpcendpointassociation-syntax">Syntax</a><a href="#aws-resource-networkfirewall-vpcendpointassociation-properties">Properties</a><a href="#aws-resource-networkfirewall-vpcendpointassociation-return-values">Return values</a></div><div id="page-filters" style="display:none"><filter label="All" id="All"></filter><filter label="JSON" id="JSON"></filter><filter label="YAML" id="YAML"></filter></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><awsui-alert class="awsdocs-page-banner awsui-util-mb-l"><p>This is the new <em>AWS CloudFormation Template Reference Guide</em>.
         Please update your bookmarks and links. For help getting started with CloudFormation, see the
            <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/Welcome.html">AWS CloudFormation User Guide</a>.</p></awsui-alert><h1 class="topictitle" id="aws-resource-networkfirewall-vpcendpointassociation">AWS::NetworkFirewall::VpcEndpointAssociation</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>A VPC endpoint association defines a single subnet to use for a firewall endpoint for a <code class="code">Firewall</code>. 
       You can define VPC endpoint associations only in the Availability Zones that already have 
           a subnet mapping defined in the <code class="code">Firewall</code> resource. </p><div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>You can retrieve the list of Availability Zones that are available for use by calling <code class="code">DescribeFirewallMetadata</code>.</p></div></div><p>To manage firewall endpoints, first, in the <code class="code">Firewall</code> specification, you specify a single VPC and one subnet 
           for each of the Availability Zones where you want to use the firewall. Then you can define additional endpoints as 
           VPC endpoint associations. </p><p>You can use VPC endpoint associations to expand the protections of the firewall as follows: </p><div class="itemizedlist">
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p><b>Protect multiple VPCs with a single firewall</b> - You can use the firewall to protect other VPCs, either in your account or in accounts where the firewall is shared. You can only specify Availability Zones that already have a firewall endpoint defined in the <code class="code">Firewall</code> subnet mappings.</p>
                </li><li class="listitem">
                    <p><b>Define multiple firewall endpoints for a VPC in an Availability Zone</b> - You can create additional firewall endpoints for the VPC that you have defined in the firewall, in any Availability Zone that already has an endpoint defined in the <code class="code">Firewall</code> subnet mappings. You can create multiple VPC endpoint associations for any other VPC where you use the firewall.</p>
                </li></ul></div><p>You can use AWS Resource Access Manager to share a <code class="code">Firewall</code> that you own with other accounts, which gives them the ability to use the firewall 
      to create VPC endpoint associations. For information about sharing a firewall, see <code class="code">PutResourcePolicy</code>
          in this guide and see 
    <a href="https://docs.aws.amazon.com/network-firewall/latest/developerguide/sharing.html">Sharing Network Firewall resources</a> in the <em>AWS Network Firewall Developer Guide</em>.</p><p>The status of the VPC endpoint association, which indicates whether it's ready to filter network traffic,
         is provided in the corresponding VpcEndpointAssociationStatus. You can retrieve both
         the association and its status by calling DescribeVpcEndpointAssociation.</p><h2 id="aws-resource-networkfirewall-vpcendpointassociation-syntax">Syntax</h2><p>To declare this entity in your AWS CloudFormation template, use the following syntax:</p><div id="JSON" name="JSON" class="section langfilter"><h3 id="aws-resource-networkfirewall-vpcendpointassociation-syntax.json">JSON</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><!--DEBUG: cli (json)--><code class="json "><span>{</span>
  "Type" : "AWS::NetworkFirewall::VpcEndpointAssociation",
  "Properties" : <span>{</span>
      "<a href="#cfn-networkfirewall-vpcendpointassociation-description">Description</a>" : <code class="replaceable">String</code>,
      "<a href="#cfn-networkfirewall-vpcendpointassociation-firewallarn">FirewallArn</a>" : <code class="replaceable">String</code>,
      "<a href="#cfn-networkfirewall-vpcendpointassociation-subnetmapping">SubnetMapping</a>" : <code class="replaceable"><a href="./aws-properties-networkfirewall-vpcendpointassociation-subnetmapping.html">SubnetMapping</a></code>,
      "<a href="#cfn-networkfirewall-vpcendpointassociation-tags">Tags</a>" : <code class="replaceable">[ <a href="./aws-properties-networkfirewall-vpcendpointassociation-tag.html">Tag</a>, ... ]</code>,
      "<a href="#cfn-networkfirewall-vpcendpointassociation-vpcid">VpcId</a>" : <code class="replaceable">String</code>
    }
}
</code></pre></div><div id="YAML" name="YAML" class="section langfilter"><h3 id="aws-resource-networkfirewall-vpcendpointassociation-syntax.yaml">YAML</h3><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><!--DEBUG: cli (yaml)--><code class="yaml ">Type: AWS::NetworkFirewall::VpcEndpointAssociation
Properties:
  <a href="#cfn-networkfirewall-vpcendpointassociation-description">Description</a>: <code class="replaceable">String</code>
  <a href="#cfn-networkfirewall-vpcendpointassociation-firewallarn">FirewallArn</a>: <code class="replaceable">String</code>
  <a href="#cfn-networkfirewall-vpcendpointassociation-subnetmapping">SubnetMapping</a>: <code class="replaceable">
    <a href="./aws-properties-networkfirewall-vpcendpointassociation-subnetmapping.html">SubnetMapping</a></code>
  <a href="#cfn-networkfirewall-vpcendpointassociation-tags">Tags</a>: <code class="replaceable">
    - <a href="./aws-properties-networkfirewall-vpcendpointassociation-tag.html">Tag</a></code>
  <a href="#cfn-networkfirewall-vpcendpointassociation-vpcid">VpcId</a>: <code class="replaceable">String</code>
</code></pre></div><h2 id="aws-resource-networkfirewall-vpcendpointassociation-properties">Properties</h2><div class="variablelist"><dl><dt id="cfn-networkfirewall-vpcendpointassociation-description"><span class="term"><code class="code">Description</code></span></dt><dd>
                    <p>A description of the VPC endpoint association. </p>
                <p><em>Required</em>: No</p><p><em>Type</em>: String</p><p><em>Pattern</em>: <code class="code">^.*$</code></p><p><em>Maximum</em>: <code class="code">512</code></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p></dd><dt id="cfn-networkfirewall-vpcendpointassociation-firewallarn"><span class="term"><code class="code">FirewallArn</code></span></dt><dd>
                    <p>The Amazon Resource Name (ARN) of the firewall.</p>
                <p><em>Required</em>: Yes</p><p><em>Type</em>: String</p><p><em>Pattern</em>: <code class="code">^(arn:aws.*)$</code></p><p><em>Minimum</em>: <code class="code">1</code></p><p><em>Maximum</em>: <code class="code">256</code></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p></dd><dt id="cfn-networkfirewall-vpcendpointassociation-subnetmapping"><span class="term"><code class="code">SubnetMapping</code></span></dt><dd>
                    <p>The ID for a subnet that's used in an association with a firewall. This is used in
      CreateFirewall, AssociateSubnets, and CreateVpcEndpointAssociation. AWS Network Firewall
         creates an instance of the associated firewall in each subnet that you specify, to filter
         traffic in the subnet's Availability Zone.</p>
                <p><em>Required</em>: Yes</p><p><em>Type</em>: <a href="./aws-properties-networkfirewall-vpcendpointassociation-subnetmapping.html">SubnetMapping</a></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p></dd><dt id="cfn-networkfirewall-vpcendpointassociation-tags"><span class="term"><code class="code">Tags</code></span></dt><dd>
                    <p>The key:value pairs to associate with the resource.</p>
                <p><em>Required</em>: No</p><p><em>Type</em>: Array of <a href="./aws-properties-networkfirewall-vpcendpointassociation-tag.html">Tag</a></p><p><em>Minimum</em>: <code class="code">1</code></p><p><em>Maximum</em>: <code class="code">200</code></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p></dd><dt id="cfn-networkfirewall-vpcendpointassociation-vpcid"><span class="term"><code class="code">VpcId</code></span></dt><dd>
                    <p>The unique identifier of the VPC for the endpoint association. </p>
                <p><em>Required</em>: Yes</p><p><em>Type</em>: String</p><p><em>Pattern</em>: <code class="code">^vpc-[0-9a-f]+$</code></p><p><em>Minimum</em>: <code class="code">1</code></p><p><em>Maximum</em>: <code class="code">128</code></p><p><em>Update requires</em>: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p></dd></dl></div><h2 id="aws-resource-networkfirewall-vpcendpointassociation-return-values">Return values</h2><h3 id="aws-resource-networkfirewall-vpcendpointassociation-return-values-ref">Ref</h3><h3 id="aws-resource-networkfirewall-vpcendpointassociation-return-values-fn--getatt">Fn::GetAtt</h3><h4 id="aws-resource-networkfirewall-vpcendpointassociation-return-values-fn--getatt-fn--getatt"></h4><div class="variablelist"><dl><dt id="EndpointId-fn::getatt"><span class="term"><code class="code">EndpointId</code></span></dt><dd><p>Property description not available.</p></dd><dt id="VpcEndpointAssociationArn-fn::getatt"><span class="term"><code class="code">VpcEndpointAssociationArn</code></span></dt><dd>
                            <p>The Amazon Resource Name (ARN) of a VPC endpoint association.</p>
                        </dd><dt id="VpcEndpointAssociationId-fn::getatt"><span class="term"><code class="code">VpcEndpointAssociationId</code></span></dt><dd>
                            <p>The unique identifier of the VPC endpoint association. </p>
                        </dd></dl></div><awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./aws-properties-networkfirewall-tlsinspectionconfiguration-tlsinspectionconfiguration.html">TLSInspectionConfiguration</div><div id="next" class="next-link" accesskey="n" href="./aws-properties-networkfirewall-vpcendpointassociation-subnetmapping.html">SubnetMapping</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=AWS WAF&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/TemplateReference/aws-resource-networkfirewall-vpcendpointassociation.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=AWS WAF&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/TemplateReference/aws-resource-networkfirewall-vpcendpointassociation.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>