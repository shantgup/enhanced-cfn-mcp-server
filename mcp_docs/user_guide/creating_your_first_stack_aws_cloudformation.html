<!-- Source URL: https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/gettingstarted.walkthrough.html -->
<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Creating your first stack - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="gettingstarted.walkthrough" /><meta name="default_state" content="gettingstarted.walkthrough" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/gettingstarted.walkthrough.html" /><meta name="description" content="Walk through the process of creating your first CloudFormation stack using the AWS Management Console. Learn how to provision AWS resources, monitor stack events, and generate outputs." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="User Guide" /><meta name="abstract" content="Create and manage AWS infrastructure deployments predictably and repeatedly using AWS CloudFormation with this User Guide." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/gettingstarted.walkthrough.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/gettingstarted.walkthrough.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/gettingstarted.walkthrough.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/gettingstarted.walkthrough.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/gettingstarted.walkthrough.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/gettingstarted.walkthrough.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/gettingstarted.walkthrough.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/gettingstarted.walkthrough.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/gettingstarted.walkthrough.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/gettingstarted.walkthrough.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/gettingstarted.walkthrough.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/gettingstarted.walkthrough.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/gettingstarted.walkthrough.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/gettingstarted.walkthrough.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/gettingstarted.walkthrough.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/gettingstarted.walkthrough.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/gettingstarted.walkthrough.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/gettingstarted.walkthrough.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/gettingstarted.walkthrough.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/gettingstarted.walkthrough.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/gettingstarted.walkthrough.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/gettingstarted.walkthrough.html" hreflang="x-default" /><meta name="feedback-item" content="CloudFormation" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="User Guide" /><head xmlns="http://www.w3.org/1999/xhtml"> <script defer="" src="/assets/r/awsdocs-doc-page.2.0.0.js"></script><link href="/assets/r/awsdocs-doc-page.2.0.0.css" rel="stylesheet"/></head>
<script defer="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="User Guide" /><meta id="panorama-serviceConsolePage" value="Creating your first stack" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Creating your first stack - AWS CloudFormation</title><meta name="pdf" content="/pdfs/AWSCloudFormation/latest/UserGuide/cfn-ug.pdf#gettingstarted.walkthrough" /><meta name="rss" content="aws-cloudformation-user-guide-updates.rss" /><meta name="forums" content="https://repost.aws/tags/TAm3R3LNU3RfSX9L23YIpo3w" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/gettingstarted.walkthrough.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/gettingstarted.walkthrough.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/gettingstarted.walkthrough.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,resource provisioning,resource configuration,infrastructure management,CloudFormer,CloudFormation stack,CloudFormation stackset,CloudFormation template,change set" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "User Guide",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Getting started with CloudFormation",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/GettingStarted.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Creating your first stack",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/GettingStarted.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="/pdfs/AWSCloudFormation/latest/UserGuide/cfn-ug.pdf#gettingstarted.walkthrough" target="_blank" rel="noopener noreferrer" title="Open PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="/index.html">Documentation</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="Welcome.html">User Guide</a></div><div id="page-toc-src"><a href="#getting-started-prerequisites">Prerequisites</a><a href="#getting-started-create-stack">Create a CloudFormation stack with the
            console</a><a href="#getting-started-monitor-stack-creation">Monitor stack creation</a><a href="#getting-started-test-web-server">Test the web server</a><a href="#getting-started-troubleshooting">Troubleshooting</a><a href="#getting-started-clean-up">Clean up</a><a href="#getting-started-next-steps">Next steps</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="gettingstarted.walkthrough">Creating your first stack</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>This topic walks you through creating your first CloudFormation stack using the AWS Management Console. By
      following this tutorial, you'll learn how to provision basic AWS resources, monitor stack
      events, and generate outputs.</p><p>For this example, the CloudFormation template is written in YAML. YAML is a human-readable
      format that's widely used for defining infrastructure as code. As you learn more about
      CloudFormation, you might also encounter other templates in JSON format, but for this tutorial,
      YAML is chosen for its readability.</p><div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>CloudFormation is free, but you'll be charged for the Amazon EC2 and Amazon S3 resources you create.
         However, if you're new to AWS, you can take advantage of the <a href="https://aws.amazon.com/free/" rel="noopener noreferrer" target="_blank"><span>Free Tier</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> to minimize or eliminate costs during this learning
         process.</p></div></div><div class="highlights" id="inline-topiclist"><h6>Topics</h6><ul><li><p><a href="#getting-started-prerequisites">Prerequisites</a></p></li><li><p><a href="#getting-started-create-stack">Create a CloudFormation stack with the
            console</a></p></li><li><p><a href="#getting-started-monitor-stack-creation">Monitor stack creation</a></p></li><li><p><a href="#getting-started-test-web-server">Test the web server</a></p></li><li><p><a href="#getting-started-troubleshooting">Troubleshooting</a></p></li><li><p><a href="#getting-started-clean-up">Clean up</a></p></li><li><p><a href="#getting-started-next-steps">Next steps</a></p></li></ul></div>
      <h2 id="getting-started-prerequisites">Prerequisites</h2>

      <div class="itemizedlist">
          
          
      <ul class="itemizedlist"><li class="listitem">
            <p>You must have access to an AWS account with an IAM user or role that has
               permissions to use Amazon EC2, Amazon S3, and CloudFormation, or administrative user access.</p>
         </li><li class="listitem">
            <p>You must have a Virtual Private Cloud (VPC) that has access to the internet. This
               walkthrough template requires a default VPC, which comes automatically with newer
               AWS accounts. If you don't have a default VPC, or if it was deleted, see the
               troubleshooting section in this topic for alternative solutions.</p>
         </li></ul></div>

    
      <h2 id="getting-started-create-stack">Create a CloudFormation stack with the
            console</h2>

      <div class="procedure"><h6>To create a Hello world CloudFormation stack with the console</h6><ol><li>
            <p>Open the <a href="https://console.aws.amazon.com/cloudformation/" rel="noopener noreferrer" target="_blank"><span>CloudFormation
                  console</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p>
         </li><li>
            <p>Choose <b>Create Stack</b>.</p>
         </li><li>
            <p>On the <b>Create stack</b> page, choose <b>Build from
                  Infrastructure Composer</b>, and then <b>Create in Infrastructure Composer</b>.
               This takes you to Infrastructure Composer in CloudFormation console mode where you can upload and validate
               the example template.</p>
         </li><li>
            <p>To upload and validate the example template, do the following:</p>
            <ol><li>
                  <p>Choose <b>Template</b>. Then, copy and paste the following
                     CloudFormation template into the template editor:</p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><!--DEBUG: cli (yaml)--><code class="yaml ">AWSTemplateFormatVersion: 2010-09-09
Description: CloudFormation Template for WebServer with Security Group and EC2 Instance

Parameters:
  LatestAmiId:
    Description: The latest Amazon Linux 2 AMI from the Parameter Store
    Type: 'AWS::SSM::Parameter::Value&lt;AWS::EC2::Image::Id&gt;'
    Default: '/aws/service/ami-amazon-linux-latest/amzn2-ami-hvm-x86_64-gp2'

  InstanceType:
    Description: WebServer EC2 instance type
    Type: String
    Default: t2.micro
    AllowedValues:
      - t3.micro
      - t2.micro
    ConstraintDescription: must be a valid EC2 instance type.
    
  MyIP:
    Description: Your IP address in CIDR format (e.g. 203.0.113.1/32).
    Type: String
    MinLength: '9'
    MaxLength: '18'
    Default: 0.0.0.0/0
    AllowedPattern: '^(\d<span>{</span>1,3}\.)<span>{</span>3}\d<span>{</span>1,3}\/\d<span>{</span>1,2}$'
    ConstraintDescription: must be a valid IP CIDR range of the form x.x.x.x/x.

Resources:
  WebServerSecurityGroup:
    Type: AWS::EC2::SecurityGroup
    Properties:
      GroupDescription: Allow HTTP access via my IP address
      SecurityGroupIngress:
        - IpProtocol: tcp
          FromPort: '80'
          ToPort: '80'
          CidrIp: !Ref MyIP

  WebServer:
    Type: AWS::EC2::Instance
    Properties:
      ImageId: !Ref LatestAmiId
      InstanceType: !Ref InstanceType
      SecurityGroupIds:
        - !Ref WebServerSecurityGroup
      UserData: !Base64 |
        #!/bin/bash
        yum update -y
        yum install -y httpd
        systemctl start httpd
        systemctl enable httpd
        echo "&lt;html&gt;&lt;body&gt;&lt;h1&gt;Hello World!&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt;" &gt; /var/www/html/index.html

Outputs:
  WebsiteURL:
    Value: !Join
      - ''
      - - http://
        - !GetAtt WebServer.PublicDnsName
    Description: Website URL</code></pre>
                  <p>Before you move to the next step, let's take a moment to take a look at the
                     template and understand some key CloudFormation concepts.</p>
                  <div class="itemizedlist">
                      
                      
                      
                      
                      
                      
                      
                  <ul class="itemizedlist"><li class="listitem">
                        <p>The <span class="topcom"><code class="code">Parameters</code></span> section
                           declares values that can be passed to the template when you create the
                           stack. Resources specified later in the template reference these values
                           and use the data. Parameters are an effective way to specify information
                           that you don't want to store in the template itself. They're also a way
                           to specify information that might be unique to the specific application
                           or configuration you are deploying.</p>
                     </li><li class="listitem">
                        <p>The template defines the following parameters:</p>
                        <div class="itemizedlist">
                            
                            
                            
                        <ul class="itemizedlist"><li class="listitem">
                              <p><span class="topcom"><code class="code">LatestAmiId</code></span> â
                                 Retrieves the latest Amazon Linux 2 AMI ID from the AWS Systems Manager
                                 Parameter Store.</p>
                           </li><li class="listitem">
                              <p><span class="topcom"><code class="code">InstanceType</code></span>
                                 â Allows selection of the EC2 instance type (default:
                                    <code class="code">t2.micro</code>, allowed: <code class="code">t3.micro</code>,
                                    <code class="code">t2.micro</code>). </p>
                           </li><li class="listitem">
                              <p><span class="topcom"><code class="code">MyIP</code></span> â
                                 Specifies the IP address range for HTTP access (default: 0.0.0.0/0,
                                 allowing access from any IP).</p>
                           </li></ul></div>
                     </li><li class="listitem">
                        <p>The <span class="topcom"><code class="code">Resources</code></span> section
                           contains the definitions of the AWS resources you want to create with
                           the template. Resource declarations are an efficient way to specify all
                           these configuration settings at once. When you include resource
                           declarations in a template, you can create and configure all the declared
                           resources by using that template to create a stack. You can also create
                           new stacks from the same template to launch identical configurations of
                           resources.</p>
                     </li><li class="listitem">
                        <p>This template creates the following resources:</p>
                        <div class="itemizedlist">
                            
                            
                        <ul class="itemizedlist"><li class="listitem">
                              <p><span class="topcom"><code class="code">WebServerSecurityGroup</code></span> â An EC2
                                 security group that allows inbound HTTP traffic on port 80 from the
                                 specified IP range.</p>
                           </li><li class="listitem">
                              <p><span class="topcom"><code class="code">WebServer</code></span> â
                                 An EC2 instance with the following configuration:</p>
                              <div class="itemizedlist">
                                  
                                  
                                  
                                  
                              <ul class="itemizedlist"><li class="listitem">
                                    <p>Uses the latest Amazon Linux 2 AMI</p>
                                 </li><li class="listitem">
                                    <p>Applies the selected instance type</p>
                                 </li><li class="listitem">
                                    <p>Adds the <code class="code">WebServerSecurityGroup</code> to the
                                          <code class="code">SecurityGroupIds</code> property</p>
                                 </li><li class="listitem">
                                    <p>Includes a user data script to install Apache HTTP
                                       Server</p>
                                 </li></ul></div>
                           </li></ul></div>
                     </li><li class="listitem">
                        <p>A logical name is specified at the beginning of each resource and
                           parameter declaration. For example, <code class="code">WebServerSecurityGroup</code>
                           is the logical name assigned to the EC2 security group resource. The
                              <code class="code">Ref</code> function is then used to reference resources and
                           parameters by their logical names in other parts of the template. When
                           one resource references another resource, this creates a dependency
                           between them.</p>
                     </li><li class="listitem">
                        <p>The <span class="topcom"><code class="code">Outputs</code></span> section
                           defines custom values that are returned after the stack creation. You can
                           use the output values to return information from the resources in the
                           stack, such as resource identifiers or URLs.</p>
                     </li><li class="listitem">
                        <p>The template defines one output:</p>
                        <div class="itemizedlist">
                            
                        <ul class="itemizedlist"><li class="listitem">
                              <p><span class="topcom"><code class="code">WebsiteURL</code></span> â
                                 The URL of the deployed web server, constructed using the EC2
                                 instance's public DNS name. The <code class="code">Join</code> function helps
                                 combine the fixed <code class="code">http://</code> with the variable
                                    <code class="code">PublicDnsName</code> into a single string, making it easy
                                 to output the full URL of the web server.</p>
                           </li></ul></div>
                     </li></ul></div>
               </li><li>
                  <p>Choose <b>Validate</b> to make sure the YAML code is valid
                     before uploading the template.</p>
               </li><li>
                  <p>Next, choose <b>Create template</b> to create the template and
                     add it to an S3 bucket.</p>
               </li><li>
                  <p>From the dialog box that opens, make a note of the name of the S3 bucket so
                     you can delete it later. Then, choose <b>Confirm and continue to
                        CloudFormation</b>. This takes you to the CloudFormation console where the S3
                     path to your template is now specified.</p>
               </li></ol>
         </li><li>
            <p>On the <b>Create stack</b> page, choose
               <b>Next</b>.</p>
         </li><li>
            <p>On the <b>Specify stack details</b> page, type a name in the
                  <b>Stack name</b> field. The stack name can't contain spaces. For
               this example, use <code class="userinput">MyTestStack</code>.</p>
         </li><li>
            <p>Under <b>Parameters</b>, specify parameter values as follows:</p>
            <div class="itemizedlist">
                
                
                
            <ul class="itemizedlist"><li class="listitem">
                  <p><b>LatestAmiId</b>: This is set by default to the latest
                     Amazon Linux 2 AMI.</p>
               </li><li class="listitem">
                  <p><b>InstanceType</b>: Choose either
                        <b>t2.micro</b> or <b>t3.micro</b> for the EC2
                     instance type.</p>
                  <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>If you're new to AWS, you can use the free tier to launch and use a
                           <code class="code">t2.micro</code> instance for free for 12 months (in Regions where
                           <code class="code">t2.micro</code> is unavailable, you can use a <code class="code">t3.micro</code>
                        instance under the free tier).</p></div></div>
               </li><li class="listitem">
                  <p><b>MyIP</b>: Specify your actual public IP address with a
                        <code class="code">/32</code> suffix. The <code class="code">/32</code> suffix is used in CIDR
                     notation to specify that a single IP address is allowed. It essentially means
                     allow traffic to and from this specific IP address, and no others.</p>
               </li></ul></div>
         </li><li>
            <p>Choose <b>Next</b> twice to go to the <b>Review and
                  create</b> page. For this tutorial, you can leave the defaults on the
                  <b>Configure stack options</b> page as they are.</p>
         </li><li>
            <p>Review the information for the stack. When you're satisfied with the settings,
               choose <b>Submit</b>.</p>
         </li></ol></div>
    
      <h2 id="getting-started-monitor-stack-creation">Monitor stack creation</h2>
      <p>After you choose <b>Submit</b>, CloudFormation begins creating the resources
         that are specified in the template. Your new stack, <code class="userinput">MyTestStack</code>,
         appears in the list at the top portion of the <b>CloudFormation</b> console.
         Its status should be <code class="code">CREATE_IN_PROGRESS</code>. You can see detailed status for a
         stack by viewing its events.</p>
      <div class="procedure"><h6>To view the events for the stack</h6><ol><li>
            <p>On the CloudFormation console, choose the stack <code class="userinput">MyTestStack</code> in
               the list.</p>
         </li><li>
            <p>In the stack details pane, choose the <b>Events</b> tab.</p>
            <p>The console automatically refreshes the event list with the most recent events
               every 60 seconds.</p>
         </li></ol></div>
      <p>The <b>Events</b> tab displays each major step in the creation of the
         stack sorted by the time of each event, with latest events on top.</p>
      <p>The first event (at the bottom of the event list) is the start of the stack creation
         process:</p>
      <p><code class="code">2024-12-23 18:54 UTC-7 MyTestStack CREATE_IN_PROGRESS User initiated</code></p>
      <p>Next are events that mark the beginning and completion of the creation of each resource.
         For example, creation of the EC2 instance results in the following entries:</p>
      <p><code class="code">2024-12-23 18:59 UTC-7 WebServer CREATE_COMPLETE</code></p>
      <p><code class="code">2024-12-23 18:54 UTC-7 WebServer CREATE_IN_PROGRESS Resource creation
            initiated</code></p>
      <p>The <code class="code">CREATE_IN_PROGRESS</code> event is logged when CloudFormation reports that it has
         begun to create the resource. The <code class="code">CREATE_COMPLETE</code> event is logged when the
         resource is successfully created.</p>
      <p>When CloudFormation has successfully created the stack, you will see the following event at
         the top of the <b>Events</b> tab:</p>
      <p><code class="code">2024-12-23 19:17 UTC-7 MyTestStack CREATE_COMPLETE</code></p>
      <p>If CloudFormation can't create a resource, it reports a <code class="code">CREATE_FAILED</code> event
         and, by default, rolls back the stack and deletes any resources that have been created. The
            <b>Status Reason</b> column displays the issue that caused the
         failure.</p>
      <p>After the stack is created, you can go to the <b>Resources</b> tab to view
         the EC2 instance and security group you created.</p>

    
      <h2 id="getting-started-test-web-server">Test the web server</h2>

      <p>After the stack is successfully created, navigate to the <b>Outputs</b>
         tab in the CloudFormation console. Look for the <b>WebsiteURL</b> field. This
         will contain the public URL of your EC2 instance.</p>
      <p>Open a browser and go to the URL listed under <b>WebsiteURL</b>. You
         should see a simple "Hello World!" message displayed in the browser.</p>
      <p>This confirms that your EC2 instance is running Apache HTTP Server and serving a basic
         web page.</p>
    
      <h2 id="getting-started-troubleshooting">Troubleshooting</h2>
      <p>If you experience a rollback during stack creation, it might be due to a missing VPC.
         Here's how to resolve this issue.</p>

       
         <h3 id="getting-started-troubleshooting-no-default-vpc">No default VPC
               available</h3>
         <p>The template in this walkthrough requires a default VPC. If your stack creation fails
            because of VPC or subnet availability errors, you might not have a default VPC in your
            account. You have the following options:</p>

         <div class="itemizedlist">
             
             
         <ul class="itemizedlist"><li class="listitem">
               <p><span class="topcom">Create a new default VPC</span> â You can create
                  a new default VPC through the Amazon VPC console. For instructions, see <a href="https://docs.aws.amazon.com/vpc/latest/userguide/work-with-default-vpc.html#create-default-vpc">Create
                     a default VPC</a> in the <em>Amazon VPC User Guide</em>.</p>
            </li><li class="listitem">
               <p><span class="topcom">Modify the template to specify a subnet</span> â
                  If you have a non-default VPC, you can modify the template to explicitly specify
                  the VPC and subnet IDs. Add the following parameter to the template:</p>
               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><!--DEBUG: cli (yaml)--><code class="yaml ">  SubnetId:
    Description: The subnet ID to launch the instance into
    Type: AWS::EC2::Subnet::Id
</code></pre>
               <p>Then, update the <code class="code">WebServer</code> resource to include the subnet
                  ID:</p>
               <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><!--DEBUG: cli (yaml)--><code class="yaml ">  WebServer:
    Type: AWS::EC2::Instance
    Properties:
      ImageId: !Ref LatestAmiId
      InstanceType: !Ref InstanceType
      SecurityGroupIds:
        - !Ref WebServerSecurityGroup
      SubnetId: !Ref SubnetId
      UserData: !Base64 |
        #!/bin/bash
        yum update -y
        yum install -y httpd
        systemctl start httpd
        systemctl enable httpd
        echo "&lt;html&gt;&lt;body&gt;&lt;h1&gt;Hello World!&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt;" &gt; /var/www/html/index.html
</code></pre>
               <p>When creating the stack, you'll need to specify a subnet that has internet
                  access for the web server to be reachable.</p>
            </li></ul></div>
       
    
      <h2 id="getting-started-clean-up">Clean up</h2>
      <p>To make sure you aren't charged for any unwanted services, you can clean up by deleting
         the stack and its resources. You can also delete the S3 bucket that stores the stack's
         template.</p>
      <div class="procedure"><h6>To delete the stack and its resources</h6><ol><li>
            <p>Open the <a href="https://console.aws.amazon.com/cloudformation/" rel="noopener noreferrer" target="_blank"><span>CloudFormation
                  console</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p>
         </li><li>
            <p>On the <b>Stacks</b> page, select the option next to the name of the
               stack you created (<code class="userinput">MyTestStack</code>) and then choose
                  <b>Delete</b>.</p>
         </li><li>
            <p>When prompted for confirmation, choose <b>Delete</b>.</p>
         </li><li>
            <p>Monitor the progress of the stack deletion process on the
                  <b>Event</b> tab. The status for <code class="userinput">MyTestStack</code>
               changes to <code class="code">DELETE_IN_PROGRESS</code>. When CloudFormation completes the deletion of
               the stack, it removes the stack from the list.</p>
         </li></ol></div>
      <p>If you are done working with the example template and no longer need your Amazon S3 bucket,
         delete it. Before you can delete a bucket, you must first empty it. Emptying a bucket
         deletes all objects in it.</p>
      <div class="procedure"><h6>To empty and delete the Amazon S3 bucket</h6><ol><li>
            <p>Open the <a href="https://console.aws.amazon.com/s3/" rel="noopener noreferrer" target="_blank"><span>Amazon S3 console</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p>
         </li><li>
            <p>In the navigation pane on the left side of the console, choose
                  <b>Buckets</b>.</p>
         </li><li>
            <p>In the <b>Buckets</b> list, select the option next to the name of
               the bucket that you created for this tutorial, and then choose
                  <b>Empty</b>.</p>
         </li><li>
            <p>On the <b>Empty bucket</b> page, confirm that you want to empty the
               bucket by typing <code class="userinput">permanently delete</code> into the text field, and
               then choose <b>Empty</b>.</p>
         </li><li>
            <p>Monitor the progress of the bucket emptying process on the <b>Empty bucket:
                  Status</b> page. </p>
         </li><li>
            <p>To return to your bucket list, choose <b>Exit</b>.</p>
         </li><li>
            <p>Select the option next to the name of the bucket, and then choose
                  <b>Delete</b>.</p>
         </li><li>
            <p>When prompted for confirmation, type the name of the bucket and then choose
                  <b>Delete bucket</b>.</p>
         </li><li>
            <p>Monitor the progress of the bucket deletion process from the
                  <b>Buckets</b> list. When Amazon S3 completes the deletion of the bucket,
               it removes the bucket from the list.</p>
         </li></ol></div>

    
      <h2 id="getting-started-next-steps">Next steps</h2>
      <p>Congratulations! You successfully created a stack, monitored its creations, and used its
         output. To learn more about templates so that you can create your own, see <a href="./template-guide.html">Working with CloudFormation templates</a>.</p>
      <p>You can also try the <a href="https://catalog.us-east-1.prod.workshops.aws/workshops/df7f72cf-4f10-4664-acb6-b30dc8d4bcf0/en-US" rel="noopener noreferrer" target="_blank"><span>Getting Started with AWS CloudFormation</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> workshop, which offers hands-on experience with
         template development.</p>
   <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./cfn-sign-up-for-aws.html">Signing up for an AWS account</div><div id="next" class="next-link" accesskey="n" href="./best-practices.html">Best practices</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/gettingstarted.walkthrough.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/gettingstarted.walkthrough.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>