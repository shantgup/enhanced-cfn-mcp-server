<!-- Source URL: https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/stackinstances-delete.html -->
<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Delete stacks from AWS CloudFormation StackSets - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="stackinstances-delete" /><meta name="default_state" content="stackinstances-delete" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/stackinstances-delete.html" /><meta name="description" content="Learn how to delete stacks from StackSets using either the CloudFormation console or the AWS CLI." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="User Guide" /><meta name="abstract" content="Create and manage AWS infrastructure deployments predictably and repeatedly using AWS CloudFormation with this User Guide." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/stackinstances-delete.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/stackinstances-delete.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/stackinstances-delete.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/stackinstances-delete.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/stackinstances-delete.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/stackinstances-delete.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/stackinstances-delete.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/stackinstances-delete.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/stackinstances-delete.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/stackinstances-delete.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/stackinstances-delete.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/stackinstances-delete.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/stackinstances-delete.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/stackinstances-delete.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/stackinstances-delete.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/stackinstances-delete.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/stackinstances-delete.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/stackinstances-delete.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/stackinstances-delete.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/stackinstances-delete.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/stackinstances-delete.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/stackinstances-delete.html" hreflang="x-default" /><meta name="feedback-item" content="CloudFormation" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="User Guide" /><head xmlns="http://www.w3.org/1999/xhtml"> <script defer="" src="/assets/r/awsdocs-doc-page.2.0.0.js"></script><link href="/assets/r/awsdocs-doc-page.2.0.0.css" rel="stylesheet"/></head>
<script defer="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="User Guide" /><meta id="panorama-serviceConsolePage" value="Delete stacks from AWS CloudFormation StackSets" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Delete stacks from AWS CloudFormation StackSets - AWS CloudFormation</title><meta name="pdf" content="/pdfs/AWSCloudFormation/latest/UserGuide/cfn-ug.pdf#stackinstances-delete" /><meta name="rss" content="aws-cloudformation-user-guide-updates.rss" /><meta name="forums" content="https://repost.aws/tags/TAm3R3LNU3RfSX9L23YIpo3w" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/stackinstances-delete.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/stackinstances-delete.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/stackinstances-delete.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,resource provisioning,resource configuration,infrastructure management,CloudFormer,CloudFormation stack,CloudFormation stackset,CloudFormation template,change set" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "User Guide",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Managing stacks across accounts and Regions with StackSets",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/what-is-cfnstacksets.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Delete stacks from AWS CloudFormation StackSets",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/what-is-cfnstacksets.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="/pdfs/AWSCloudFormation/latest/UserGuide/cfn-ug.pdf#stackinstances-delete" target="_blank" rel="noopener noreferrer" title="Open PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="/index.html">Documentation</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="Welcome.html">User Guide</a></div><div id="page-toc-src"><a href="#stackinstances-delete-console">Delete stacks from your StackSet
                    (console)</a><a href="#stackinstances-delete-cli">Delete stacks from your StackSet
                    (AWS CLI)</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="stackinstances-delete">Delete stacks from AWS CloudFormation StackSets </h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>You can delete stacks from StackSets using either the CloudFormation console or the
            AWS CLI. </p><div class="highlights" id="inline-topiclist"><h6>Topics</h6><ul><li><p><a href="#stackinstances-delete-console">Delete stacks from your StackSet
                    (console)</a></p></li><li><p><a href="#stackinstances-delete-cli">Delete stacks from your StackSet
                    (AWS CLI)</a></p></li></ul></div><div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>Deleting stacks from a top-level organizational unit (OU) removes that OU as a
                StackSet target.</p></div></div>
            <h2 id="stackinstances-delete-console">Delete stacks from your StackSet
                    (console)</h2>
            <div class="procedure"><h6>To delete stacks</h6><ol><li><p>Sign in to the AWS Management Console and open the AWS CloudFormation console at
         <a href="https://console.aws.amazon.com/cloudformation/" rel="noopener noreferrer" target="_blank"><span>https://console.aws.amazon.com/cloudformation</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p></li><li>
                    <p>On the navigation bar at the top of the screen, choose the AWS Region
                        you created the StackSet in.</p>
                </li><li>
                    <p>From the navigation pane, choose <b>StackSets</b>. On the
                        StackSets page, select the StackSet.</p>
                </li><li>
                    <p>With your StackSet selected, choose <b>Delete stacks from
                            StackSet</b> from the <b>Actions</b> menu.</p>
                </li><li>
                    <p>On the <b>Set deployment options</b> page, first choose the
                        accounts and Regions where you want to delete the stacks.</p>
                    <ol><li>
                            <p>[Self-managed permissions] For <b>Accounts</b>,
                                choose <b>Deploy stacks in accounts</b> or
                                    <b>Deploy stacks in organizational
                                units</b>.</p>
                            <p>If you choose <b>Deploy stacks in accounts</b>,
                                paste your target account numbers in the <b>Account
                                    numbers</b> text box, separating multiple numbers with
                                commas.</p>
                            <p>If you choose <b>Deploy stacks in organizational
                                    units</b>, paste a target OU ID in the
                                    <b>Organization numbers</b> text box to target all
                                accounts that are part of the specified organization.</p>
                        </li><li>
                            <p>[Service-managed permissions] For <b>Organizational units
                                    (OUs)</b>, specify the target OU IDs. </p>
                            <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Important</h6></div><div class="awsdocs-note-text"><p>CloudFormation will delete stacks from both the specified target
                                    OUs and their child OUs.</p></div></div>
                            <p>For <b>Account filter type</b>, you can refine which
                                accounts will have stacks deleted by choosing one of the following
                                options and providing account numbers. </p>
                            <div class="itemizedlist">
                                 
                                 
                                 
                                 
                            <ul class="itemizedlist"><li class="listitem">
                                    <p><b>None</b> (default) â Delete stacks
                                        from all accounts in the specified OUs.</p>
                                </li><li class="listitem">
                                    <p><b>Intersection</b> â Delete stacks
                                        only from specific individual accounts within the selected
                                        OUs.</p>
                                </li><li class="listitem">
                                    <p><b>Difference</b> â Delete stacks
                                        from all accounts in the selected OUs except for specific
                                        accounts.</p>
                                </li><li class="listitem">
                                    <p><b>Union</b> â Delete stacks from the
                                        specified OUs plus additional individual accounts.</p>
                                </li></ul></div>
                        </li><li>
                            <p>For <b>Specify regions</b>, choose the Regions from
                                which you want to delete stacks within the target accounts.</p>
                        </li></ol>
                </li><li>
                    <p>For <b>Deployment options</b>, do the following:</p>
                    <div class="itemizedlist">
                         
                         
                         
                         
                         
                    <ul class="itemizedlist"><li class="listitem">
                            <p>For <b>Maximum concurrent accounts</b>, specify how
                                many accounts are processed concurrently.</p>
                        </li><li class="listitem">
                            <p>For <b>Failure tolerance</b>, specify the maximum
                                number of account failures allowed per Region. The operation will
                                stop and won't proceed to other Regions once this limit is
                                reached.</p>
                        </li><li class="listitem">
                            <p>For <b>Retain stacks</b>, enable this option to save
                                the stacks and their associated resources when removing them from
                                your StackSet. The resources stay in their current state but are no
                                longer part of the StackSet.</p>
                        </li><li class="listitem">
                            <p>For <b>Region concurrency</b>, choose how to process
                                Regions: <b>Sequential</b> (one Region at a time) or
                                    <b>Parallel</b> (multiple Regions
                                concurrently).</p>
                        </li><li class="listitem">
                            <p>For <b>Concurrency mode</b>, choose how concurrency
                                behaves during operation execution.</p>
                            <div class="itemizedlist">
                                 
                                 
                            <ul class="itemizedlist"><li class="listitem">
                                    <p><b>Strict failure tolerance</b> â
                                        Reduces account concurrency level when failures occur,
                                        staying within <b>Failure tolerance</b>
                                        +1.</p>
                                </li><li class="listitem">
                                    <p><b>Soft failure tolerance</b> â
                                        Maintains your specified concurrency level (the value of
                                            <b>Maximum concurrent accounts</b>)
                                        regardless of failures. </p>
                                </li></ul></div>
                        </li></ul></div>
                </li><li>
                    <p>Choose <b>Next</b>.</p>
                </li><li>
                    <p>On the <b>Review</b> page, review your choices. To make
                        changes, choose <b>Edit</b> on the related section.</p>
                </li><li>
                    <p>When you are ready to remove the stacks from your StackSet, choose
                            <b>Submit</b>.</p>
                    <p>After stack deletion is finished, you can verify that stacks were deleted
                        from your StackSet in the StackSet detail page, on the <b>Stack
                            instances</b> tab.</p>
                </li></ol></div>
         
            <h2 id="stackinstances-delete-cli">Delete stacks from your StackSet
                    (AWS CLI)</h2>
            <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>When acting as a delegated administrator, you must include <code class="code">--call-as
                        DELEGATED_ADMIN</code> in the command. </p></div></div>

            <p>Use the <b>delete-stack-instances</b> command with your StackSet
                name.</p>
            <p>In these examples, we use the <code class="code">--no-retain-stacks</code> option because we
                aren't retaining any stacks. Use <code class="code">--retain-stacks</code> instead of
                    <code class="code">--no-retain-stacks</code> if you want to keep the stacks and their
                resources. </p>
            <p>For <code class="code">--regions</code>, specify the AWS Regions you want to delete stacks
                from, for example, <code class="code">us-west-2</code> and <code class="code">us-east-1</code>.</p>
            <p>Set concurrent account processing and other preferences using the
                    <code class="code">--operation-preferences</code> option. These examples use count-based
                settings. Note that <code class="code">MaxConcurrentCount</code> must not exceed
                    <code class="code">FailureToleranceCount</code> + 1. For percentage-based settings, use
                    <code class="code">FailureTolerancePercentage</code> or <code class="code">MaxConcurrentPercentage</code>
                instead. </p>
             
                <h6>To delete stacks (self-managed permissions)</h6>
                <p>For the <code class="code">--accounts</code> option, specify the IDs of the account to
                    delete stacks from.</p>
             
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><!--DEBUG: cli (cli)--><code class="nohighlight " data-source="content">aws cloudformation delete-stack-instances --stack-set-name <code class="replaceable">my-stackset</code> \
  --accounts <code class="replaceable">account_ID_1 account_ID_2</code> \
  --regions <code class="replaceable">us-west-2 us-east-1</code> \
  --no-retain-stacks \
  --operation-preferences <code class="replaceable">MaxConcurrentCount=1,FailureToleranceCount=0</code></code></pre>
             
                <h6>To delete stacks (service-managed permissions)</h6>
                <p>For <code class="code">--deployment-targets</code>, specify the organization root ID or
                    organizational unit (OU) IDs to delete stacks from.</p>
             
            <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Important</h6></div><div class="awsdocs-note-text"><p>CloudFormation will delete stacks from both the specified target OUs and their
                    child OUs.</p></div></div>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><!--DEBUG: cli (cli)--><code class="nohighlight " data-source="content">aws cloudformation delete-stack-instances --stack-set-name <code class="replaceable">my-stackset</code> \
  --deployment-targets OrganizationalUnitIds=<code class="replaceable">ou-rcuk-1x5jlwo,ou-rcuk-slr5lh0a</code> \ 
  --regions <code class="replaceable">us-west-2 us-east-1</code> \
  --no-retain-stacks \
  --operation-preferences <code class="replaceable">MaxConcurrentCount=1,FailureToleranceCount=0</code></code></pre>
            <p>For more information, see <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_DeleteStackInstances.html">DeleteStackInstances</a> in the
                <em>AWS CloudFormation API Reference</em>.</p>
            <p>Optionally, after stack deletion is finished, verify that stacks were deleted from
                your StackSet by running the <b>describe-stack-set-operation</b> command to
                show the status and results of the delete stacks operation. For
                    <code class="code">--operation-id</code>, use the operation ID that was returned by your
                    <b>delete-stack-instances</b> command.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><!--DEBUG: cli (cli)--><code class="nohighlight " data-source="content">aws cloudformation describe-stack-set-operation --stack-set-name <code class="replaceable">my-stackset</code> \
  --operation-id <code class="replaceable">ddf16f54-ad62-4d9b-b0ab-3ed8e9example</code></code></pre>
            
        <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./stackinstances-override.html">Override parameters on
                stacks</div><div id="next" class="next-link" accesskey="n" href="./stacksets-delete.html">Delete StackSets</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/stackinstances-delete.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/stackinstances-delete.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>