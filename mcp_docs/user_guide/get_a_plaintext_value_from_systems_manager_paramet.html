<!-- Source URL: https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/dynamic-references-ssm.html -->
<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Get a plaintext value from Systems Manager Parameter Store - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="dynamic-references-ssm" /><meta name="default_state" content="dynamic-references-ssm" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/dynamic-references-ssm.html" /><meta name="description" content="When you're creating a CloudFormation template, you might want to use plaintext values stored in Parameter Store. Parameter Store is a capability of AWS Systems Manager. For an introduction to Parameter Store, see AWS Systems Manager Parameter Store" /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="User Guide" /><meta name="abstract" content="Create and manage AWS infrastructure deployments predictably and repeatedly using AWS CloudFormation with this User Guide." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/dynamic-references-ssm.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/dynamic-references-ssm.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/dynamic-references-ssm.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/dynamic-references-ssm.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/dynamic-references-ssm.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/dynamic-references-ssm.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/dynamic-references-ssm.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/dynamic-references-ssm.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/dynamic-references-ssm.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/dynamic-references-ssm.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/dynamic-references-ssm.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/dynamic-references-ssm.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/dynamic-references-ssm.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/dynamic-references-ssm.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/dynamic-references-ssm.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/dynamic-references-ssm.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/dynamic-references-ssm.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/dynamic-references-ssm.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/dynamic-references-ssm.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/dynamic-references-ssm.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/dynamic-references-ssm.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/dynamic-references-ssm.html" hreflang="x-default" /><meta name="feedback-item" content="CloudFormation" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="User Guide" /><head xmlns="http://www.w3.org/1999/xhtml"> <script defer="" src="/assets/r/awsdocs-doc-page.2.0.0.js"></script><link href="/assets/r/awsdocs-doc-page.2.0.0.css" rel="stylesheet"/></head>
<script defer="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="User Guide" /><meta id="panorama-serviceConsolePage" value="Get a plaintext value from Systems Manager Parameter Store" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Get a plaintext value from Systems Manager Parameter Store - AWS CloudFormation</title><meta name="pdf" content="/pdfs/AWSCloudFormation/latest/UserGuide/cfn-ug.pdf#dynamic-references-ssm" /><meta name="rss" content="aws-cloudformation-user-guide-updates.rss" /><meta name="forums" content="https://repost.aws/tags/TAm3R3LNU3RfSX9L23YIpo3w" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/dynamic-references-ssm.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/dynamic-references-ssm.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/dynamic-references-ssm.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,resource provisioning,resource configuration,infrastructure management,CloudFormer,CloudFormation stack,CloudFormation stackset,CloudFormation template,change set,CloudFormation templates,define your infrastructure" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "User Guide",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Working with CloudFormation templates",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/template-guide.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Get values stored in other services using dynamic references",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/dynamic-references.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Get a plaintext value from Systems Manager Parameter Store",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/dynamic-references.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="/pdfs/AWSCloudFormation/latest/UserGuide/cfn-ug.pdf#dynamic-references-ssm" target="_blank" rel="noopener noreferrer" title="Open PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="/index.html">Documentation</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="Welcome.html">User Guide</a></div><div id="page-toc-src"><a href="#dynamic-references-ssm-permissions">Permissions</a><a href="#dynamic-references-ssm-pattern">Reference pattern</a><a href="#dynamic-references-ssm-example">Example</a></div><div id="page-filters" style="display:none"><filter label="All" id="All"></filter><filter label="JSON" id="JSON"></filter><filter label="YAML" id="YAML"></filter></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="dynamic-references-ssm">Get a plaintext value from Systems Manager Parameter
                Store</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>When you're creating a CloudFormation template, you might want to use plaintext values
            stored in Parameter Store. Parameter Store is a capability of AWS Systems Manager. For an
            introduction to Parameter Store, see <a href="https://docs.aws.amazon.com/systems-manager/latest/userguide/systems-manager-parameter-store.html">AWS Systems Manager Parameter
                Store</a> in the <em>AWS Systems Manager User Guide</em>. </p><p>To use a plaintext value from Parameter Store within your template, you use a
                <code class="code">ssm</code> dynamic reference. This reference allows you to access values from
            parameters of type <code class="code">String</code> or <code class="code">StringList</code> in Parameter Store. </p><p>To verify which version of an <code class="code">ssm</code> dynamic reference will be used in a
            stack operation, create a change set for the stack operation. Then, review the processed
            template on the <b>Template</b> tab. For more information, see <a href="./using-cfn-updating-stacks-changesets-create.html">Create a change set for a CloudFormation stack</a>.</p><p>When using <code class="code">ssm</code> dynamic references, there are a few important things to
            keep in mind:</p><div class="itemizedlist">
             
             
             
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p>CloudFormation doesn't support drift detection on dynamic references. For
                        <code class="code">ssm</code> dynamic references where you haven't specified the
                    parameter version, we recommend that, if you update the parameter version in
                    Systems Manager, you also perform a stack update operation on any stacks that include the
                        <code class="code">ssm</code> dynamic reference, in order to fetch the latest parameter
                    version.</p>
            </li><li class="listitem">
                
                <p>To use a <code class="code">ssm</code> dynamic reference in the <code class="code">Parameters</code>
                    section of your CloudFormation template, you must include a version number.
                    CloudFormation doesn't allow you to reference a Parameter Store value without a
                    version number in this section. Alternatively, you can define your parameter as
                    a Systems Manager parameter type in your template. When you do this, you can specify a
                    Systems Manager parameter key as the default value for your parameter. CloudFormation will
                    then retrieve the latest version of the parameter value from Parameter Store,
                    without you having to specify a version number. This can make your templates
                    simpler and easier to maintain. For more information, see <a href="./cloudformation-supplied-parameter-types.html">Specify existing resources at
            runtime with CloudFormation-supplied parameter types</a>.</p>
            </li><li class="listitem">
                <p>For custom resources, CloudFormation resolves the <code class="code">ssm</code> dynamic
                    references before sending the request to the custom resource.</p>
            </li><li class="listitem">
                <p>CloudFormation doesn't support using dynamic references to reference a parameter
                    shared from another AWS account.</p>
            </li><li class="listitem">
                <p>CloudFormation doesn't support using Systems Manager parameter labels in dynamic
                    references.</p>
            </li></ul></div>
            <h2 id="dynamic-references-ssm-permissions">Permissions</h2>
            <p>To specify a parameter stored in the Systems Manager Parameter Store, you must have
                permission to call <a href="https://docs.aws.amazon.com/systems-manager/latest/APIReference/API_GetParameter.html">GetParameters</a> for the specified parameter. To learn
                how to create IAM policies that provide access to specific Systems Manager parameters, see
                    <a href="https://docs.aws.amazon.com/systems-manager/latest/userguide/sysman-paramstore-access.html">Restricting access to
                    Systems Manager parameters using IAM policies</a> in the
                    <em>AWS Systems Manager User Guide</em>.</p>
         
            <h2 id="dynamic-references-ssm-pattern">Reference pattern</h2>
            <p>To reference a plaintext value stored in Systems Manager Parameter Store in your CloudFormation
                template, use the following <code class="code">ssm</code> reference pattern.</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><!--DEBUG: cli ()--><code class="nohighlight"><span>{</span><span>{</span>resolve:ssm:<code class="replaceable">parameter-name</code>:<code class="replaceable">version</code>}}</code></pre>
            <p>Your reference must adhere to the following regular expression pattern for
                parameter-name and version:</p>
            <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><!--DEBUG: cli ()--><code class=""><span>{</span><span>{</span>resolve:ssm:[a-zA-Z0-9_.\-/]+(:\d+)?}}</code></pre>
            <div class="variablelist">
                 
                 
            <dl>
                    <dt><span class="term"><code class="code">parameter-name</code></span></dt>
                    <dd>
                        <p>The name of the parameter in the Parameter Store. The parameter name
                            is case-sensitive.</p>
                        <p>Required.</p>
                    </dd>
                 
                    <dt><span class="term"><code class="code">version</code></span></dt>
                    <dd>
                        <p>An integer that specifies the version of the parameter to use. If you
                            don't specify the exact version, CloudFormation uses the latest version of
                            the parameter whenever you create or update the stack. For more
                            information, see <a href="https://docs.aws.amazon.com/systems-manager/latest/userguide/sysman-paramstore-versions.html">Working with
                                parameter versions</a> in the
                                <em>AWS Systems Manager User Guide</em>.</p>
                        <p>Optional.</p>
                    </dd>
                </dl></div>
         
            <h2 id="dynamic-references-ssm-example">Example</h2>
            <p>The following example creates an EC2 launch template that references a custom AMI
                ID stored in the Parameter Store. The dynamic reference retrieves the AMI ID from
                version <code class="replaceable"><code class="code">2</code></code> of the
                        <code class="code"><code class="replaceable">golden-ami</code></code> parameter any time an
                instance is launched from the launch template.</p>
            <div id="JSON" name="JSON" class="section langfilter">
                <h3 id="dynamic-references-ssm-example.json">JSON</h3>
                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><!--DEBUG: cli (json)--><code class="json "><span>{</span>
    "Resources": <span>{</span>
        "MyLaunchTemplate": <span>{</span>
            "Type": "AWS::EC2::LaunchTemplate",
            "Properties": <span>{</span>
                "LaunchTemplateName": <span>{</span>
                    "Fn::Sub": "$<span>{</span>AWS::StackName}-launch-template"
                },
                "LaunchTemplateData": <span>{</span>
                    "ImageId": "<span>{</span><span>{</span>resolve:ssm:<code class="replaceable">golden-ami:2</code>}}",
                    "InstanceType": "t2.micro"
                }
            }
        }
    }
}</code></pre>
            </div>
            <div id="YAML" name="YAML" class="section langfilter">
                <h3 id="dynamic-references-ssm-example.yaml">YAML</h3>
                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><!--DEBUG: cli (yaml)--><code class="yaml ">Resources:
  MyLaunchTemplate:
    Type: AWS::EC2::LaunchTemplate
    Properties: 
      LaunchTemplateName: !Sub $<span>{</span>AWS::StackName}-launch-template
      LaunchTemplateData:
        ImageId: '<span>{</span><span>{</span>resolve:ssm:<code class="replaceable">golden-ami:2</code>}}'
        InstanceType: t2.micro</code></pre>
            </div>
        <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./dynamic-references.html">Get values stored in other
            services</div><div id="next" class="next-link" accesskey="n" href="./dynamic-references-ssm-secure-strings.html">Get Systems Manager secure string</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/dynamic-references-ssm.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/dynamic-references-ssm.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>