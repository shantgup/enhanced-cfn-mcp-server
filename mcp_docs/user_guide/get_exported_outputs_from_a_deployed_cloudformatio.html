<!-- Source URL: https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-stack-exports.html -->
<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Get exported outputs from a deployed CloudFormation stack - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="using-cfn-stack-exports" /><meta name="default_state" content="using-cfn-stack-exports" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-stack-exports.html" /><meta name="description" content="Export stack output values so that other CloudFormation stacks in the same AWS account and Region can import them." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="User Guide" /><meta name="abstract" content="Create and manage AWS infrastructure deployments predictably and repeatedly using AWS CloudFormation with this User Guide." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-stack-exports.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/using-cfn-stack-exports.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/using-cfn-stack-exports.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/using-cfn-stack-exports.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/using-cfn-stack-exports.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-stack-exports.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-stack-exports.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/using-cfn-stack-exports.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/using-cfn-stack-exports.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/using-cfn-stack-exports.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/using-cfn-stack-exports.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/using-cfn-stack-exports.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/using-cfn-stack-exports.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/using-cfn-stack-exports.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/using-cfn-stack-exports.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/using-cfn-stack-exports.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/using-cfn-stack-exports.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/using-cfn-stack-exports.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/using-cfn-stack-exports.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/using-cfn-stack-exports.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/using-cfn-stack-exports.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-stack-exports.html" hreflang="x-default" /><meta name="feedback-item" content="CloudFormation" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="User Guide" /><head xmlns="http://www.w3.org/1999/xhtml"> <script defer="" src="/assets/r/awsdocs-doc-page.2.0.0.js"></script><link href="/assets/r/awsdocs-doc-page.2.0.0.css" rel="stylesheet"/></head>
<script defer="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="User Guide" /><meta id="panorama-serviceConsolePage" value="Get exported outputs from a deployed CloudFormation stack" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Get exported outputs from a deployed CloudFormation stack - AWS CloudFormation</title><meta name="pdf" content="/pdfs/AWSCloudFormation/latest/UserGuide/cfn-ug.pdf#using-cfn-stack-exports" /><meta name="rss" content="aws-cloudformation-user-guide-updates.rss" /><meta name="forums" content="https://repost.aws/tags/TAm3R3LNU3RfSX9L23YIpo3w" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/using-cfn-stack-exports.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/using-cfn-stack-exports.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/using-cfn-stack-exports.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,resource provisioning,resource configuration,infrastructure management,CloudFormer,CloudFormation stack,CloudFormation stackset,CloudFormation template,change set,CloudFormation templates,define your infrastructure" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "User Guide",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Working with CloudFormation templates",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/template-guide.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Get exported outputs from a deployed CloudFormation stack",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/template-guide.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="/pdfs/AWSCloudFormation/latest/UserGuide/cfn-ug.pdf#using-cfn-stack-exports" target="_blank" rel="noopener noreferrer" title="Open PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="/index.html">Documentation</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="Welcome.html">User Guide</a></div><div id="page-toc-src"><a href="#output-vs-nested">Exporting stack output values versus using nested
        stacks</a><a href="#using-cfn-stack-exports-considerations">Considerations</a><a href="#using-cfn-stack-exports-listing">Listing exported output values</a><a href="#using-cfn-stack-imports">Listing stacks that import an exported output
      value</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="using-cfn-stack-exports">Get exported outputs from a deployed CloudFormation
      stack</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>When you have multiple stacks in the same AWS account and Region, you might want to share
    information between them. This is useful when one stack needs to use resources created by
    another stack.</p><p>For example, you might have one stack that creates network resources, such as subnets and
    security groups, for your web servers. Other stacks that create the actual web servers can then
    use the network resources created by the first stack. You don't need to hard code resource IDs
    in the stack's template or pass IDs as input parameters.</p><p>To share information between stacks, you <em>export</em> output values from one
    stack and <em>import</em> them into another stack. Here's how it works:</p><div class="orderedlist">
     
     
     
     
  <ol><li>
      <p>In the first stack's template (for example, the networking stack), you define certain
        values for export by using the <code class="code">Export</code> field in the <code class="code">Outputs</code>
        section. For more information, see <a href="./outputs-section-structure.html">CloudFormation template Outputs syntax</a>.</p>
    </li><li>
      <p>When you create or update that stack, CloudFormation exports the output values, making them
        available to other stacks in the same AWS account and Region.</p>
    </li><li>
      <p>In the other stack's template, you use the <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/TemplateReference/intrinsic-function-reference-importvalue.html">Fn::ImportValue</a> function to import the exported values from the first stack.</p>
    </li><li>
      <p>When you create or update the second stack (for example, the web server stack),
        CloudFormation automatically retrieves the exported values from the first stack and uses
        them.</p>
    </li></ol></div><p>For a walkthrough and sample templates, see <a href="./walkthrough-crossstackref.html">Refer to resource outputs in another CloudFormation
      stack</a>.</p>
    <h2 id="output-vs-nested">Exporting stack output values versus using nested
        stacks</h2>
    <p>A nested stack is a stack that you create within another stack by using the
        <code class="code">AWS::CloudFormation::Stack</code> resource. With nested stacks, you deploy and manage
      all resources from a single stack. You can use outputs from one stack in the nested stack
      group as inputs to another stack in the group. This differs from exporting values.</p>
    <p>If you want to isolate information sharing to within a nested stack group, we suggest that
      you use nested stacks. To share information with other stacks (not just within the group of
      nested stacks), export values. For example, you can create a single stack with a subnet and
      then export its ID. Other stacks can use that subnet by importing its ID. Each stack doesn't
      need to create its own subnet. As long as stacks are importing the subnet ID, you can't change
      or delete it.</p>
    <p>For more information about nested stacks, see <a href="./using-cfn-nested-stacks.html">Split a template into reusable pieces using nested
            stacks</a>.</p>
   
    <h2 id="using-cfn-stack-exports-considerations">Considerations</h2>
    <p>The following restrictions apply to cross-stack references:</p>
    <div class="itemizedlist">
       
       
       
       
    <ul class="itemizedlist"><li class="listitem">
        <p>For each AWS account, <code class="code">Export</code> names must be unique within a Region.</p>
      </li><li class="listitem">
        <p>You can't create cross-stack references across Regions. You can use the intrinsic function
         <code class="code">Fn::ImportValue</code> to import only values that have been exported within the same Region.</p>
      </li><li class="listitem">
        <p>For outputs, the value of the <code class="code">Name</code> property of an <code class="code">Export</code> can't use <code class="code">Ref</code> or <code class="code">GetAtt</code> functions that depend on a resource.</p>
        <p>Similarly, the <code class="code">ImportValue</code> function can't include <code class="code">Ref</code> or <code class="code">GetAtt</code> functions that depend on a resource.</p>
      </li><li class="listitem">
        <p>After another stack imports an output value, you can't delete the stack that is exporting the output value or modify the exported output value. All the imports 
        must be removed before you can delete the exporting stack or modify the output value.</p>
      </li></ul></div>
   
    <h2 id="using-cfn-stack-exports-listing">Listing exported output values</h2>
    <p>If you need to view the exported output values from your stacks, use one of the following
      methods:</p>
    <div class="procedure"><h6>To list exported output
        values (console)</h6><ol><li> <p>Open the AWS CloudFormation console at
         <a href="https://console.aws.amazon.com/cloudformation/" rel="noopener noreferrer" target="_blank"><span>https://console.aws.amazon.com/cloudformation</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p></li><li>
        <p>On the navigation bar at the top of the screen, choose your AWS Region.</p>
      </li><li>
        <p>From the left navigation pane, choose <b>Exports</b>.</p>
      </li></ol></div>
     
      <h6>To list exported output values
        (AWS CLI)</h6>
      <p>Use the following <a href="https://docs.aws.amazon.com/cli/latest/reference/cloudformation/list-exports.html">list-exports</a> command. Replace
          <code class="replaceable">us-east-1</code> with your AWS Region.</p>
     
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><!--DEBUG: cli (cli)--><code class="nohighlight " data-source="content">aws cloudformation list-exports --region <code class="replaceable">us-east-1</code></code></pre>
    <p>The following is example output.</p>
    <pre class="programlisting"><div class="code-btn-container"></div><!--DEBUG: cli (json)--><code class="json "><span>{</span>
    "Exports": [
        <span>{</span>
            "ExportingStackId": "arn:aws:cloudformation:us-west-2:123456789012:stack/private-vpc/99764070-b56c-xmpl-bee8-062a88d1d800",
            "Name": "private-vpc-subnet-a",
            "Value": "subnet-07b410xmplddcfa03"
        },
        <span>{</span>
            "ExportingStackId": "arn:aws:cloudformation:us-west-2:123456789012:stack/private-vpc/99764070-b56c-xmpl-bee8-062a88d1d800",
            "Name": "private-vpc-subnet-b",
            "Value": "subnet-075ed3xmplebd2fb1"
        },
        <span>{</span>
            "ExportingStackId": "arn:aws:cloudformation:us-west-2:123456789012:stack/private-vpc/99764070-b56c-xmpl-bee8-062a88d1d800",
            "Name": "private-vpc-vpcid",
            "Value": "vpc-011d7xmpl100e9841"
        }
    ]
}</code></pre>
    <p>CloudFormation shows the names and values of the exported outputs for the current region and
      the stack they were exported from. To use an exported output value in another stack's
      template, you can reference it using the export name and the <code class="code">Fn::ImportValue</code> function.</p>
   
  <h2 id="using-cfn-stack-imports">Listing stacks that import an exported output
      value</h2>
  <p>To delete or change exported output values, you must first find out which stacks are
    importing them.</p>
  <p>To view the stacks that import an exported output value, use one of the following
    methods:</p>
  <div class="procedure"><h6>To list stacks that import an
      exported output value (console)</h6><ol><li> <p>Open the AWS CloudFormation console at
         <a href="https://console.aws.amazon.com/cloudformation/" rel="noopener noreferrer" target="_blank"><span>https://console.aws.amazon.com/cloudformation</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p></li><li>
      <p>From the left navigation pane, choose <b>Exports</b>.</p>
    </li><li>
      <p>To see which stacks import a given export value, choose the <b>Export
          Name</b> for that export value. CloudFormation displays the export details page, which
        lists all the stacks that are importing the value.</p>
    </li></ol></div>
   
    <h6>To list stacks that import an exported
      output value (AWS CLI)</h6>
    <p>Use the <a href="https://docs.aws.amazon.com/cli/latest/reference/cloudformation/list-imports.html">list-imports</a> command. Replace
        <code class="replaceable">us-east-1</code> with your AWS Region and
          <code class="code"><code class="replaceable">private-vpc-vpcid</code></code> with the name of the exported
      output value.</p>
   
  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><!--DEBUG: cli (cli)--><code class="nohighlight " data-source="content">aws cloudformation list-imports --region <code class="replaceable">us-east-1</code> \
    --export-name <code class="replaceable">private-vpc-vpcid</code></code></pre>
  <p>CloudFormation returns a list of stacks that are importing the value.</p>
  <pre class="programlisting"><div class="code-btn-container"></div><!--DEBUG: cli (json)--><code class="json "><span>{</span>
    "Imports": [
        "my-app-stack"
    ]
}</code></pre>

  <p>Once you know which stacks are importing a particular exported value, you need to modify
    those stacks to remove the <code class="code">Fn::ImportValue</code> functions that reference the output values. You must
    remove all the imports that reference exported output values before you can delete or modify the
    exported output values. </p>
<awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./pseudo-parameter-reference.html">Get AWS values</div><div id="next" class="next-link" accesskey="n" href="./cloudformation-supplied-parameter-types.html">Specify existing
            resources at runtime</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/using-cfn-stack-exports.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/using-cfn-stack-exports.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>