<!-- Source URL: https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/registry-public.html -->
<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Use third-party public extensions from the CloudFormation registry - AWS CloudFormation</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="registry-public" /><meta name="default_state" content="registry-public" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/registry-public.html" /><meta name="description" content="Third-party public extensions are those extensions from third parties that you have activated for use in your AWS account." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS CloudFormation" /><meta name="guide" content="User Guide" /><meta name="abstract" content="Create and manage AWS infrastructure deployments predictably and repeatedly using AWS CloudFormation with this User Guide." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/registry-public.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/registry-public.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/AWSCloudFormation/latest/UserGuide/registry-public.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/registry-public.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/AWSCloudFormation/latest/UserGuide/registry-public.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/registry-public.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/registry-public.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/registry-public.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/AWSCloudFormation/latest/UserGuide/registry-public.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/registry-public.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/AWSCloudFormation/latest/UserGuide/registry-public.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/registry-public.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/AWSCloudFormation/latest/UserGuide/registry-public.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/registry-public.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/AWSCloudFormation/latest/UserGuide/registry-public.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/registry-public.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/AWSCloudFormation/latest/UserGuide/registry-public.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/registry-public.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/AWSCloudFormation/latest/UserGuide/registry-public.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/AWSCloudFormation/latest/UserGuide/registry-public.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/AWSCloudFormation/latest/UserGuide/registry-public.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/registry-public.html" hreflang="x-default" /><meta name="feedback-item" content="CloudFormation" /><meta name="this_doc_product" content="AWS CloudFormation" /><meta name="this_doc_guide" content="User Guide" /><head xmlns="http://www.w3.org/1999/xhtml"> <script defer="" src="/assets/r/awsdocs-doc-page.2.0.0.js"></script><link href="/assets/r/awsdocs-doc-page.2.0.0.css" rel="stylesheet"/></head>
<script defer="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cloudformation'}"></script><meta id="panorama-serviceSubSection" value="User Guide" /><meta id="panorama-serviceConsolePage" value="Use third-party public extensions from the CloudFormation registry" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Use third-party public extensions from the CloudFormation registry - AWS CloudFormation</title><meta name="pdf" content="/pdfs/AWSCloudFormation/latest/UserGuide/cfn-ug.pdf#registry-public" /><meta name="rss" content="aws-cloudformation-user-guide-updates.rss" /><meta name="forums" content="https://repost.aws/tags/TAm3R3LNU3RfSX9L23YIpo3w" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/registry-public.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/registry-public.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/registry-public.html" /><meta name="keywords" content="CloudFormation,AWSCloudFormation,resource provisioning,resource configuration,infrastructure management,CloudFormer,CloudFormation stack,CloudFormation stackset,CloudFormation template,change set" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS CloudFormation",
        "item" : "https://docs.aws.amazon.com/cloudformation/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "User Guide",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Managing extensions with the CloudFormation registry",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/registry.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Use third-party public extensions from the CloudFormation registry",
        "item" : "https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/registry.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="/pdfs/AWSCloudFormation/latest/UserGuide/cfn-ug.pdf#registry-public" target="_blank" rel="noopener noreferrer" title="Open PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="/index.html">Documentation</a><a href="/cloudformation/index.html">AWS CloudFormation</a><a href="Welcome.html">User Guide</a></div><div id="page-toc-src"><a href="#registry-public-enable-execution-role">IAM
                    role</a><a href="#registry-public-enable-auto">Automatically use new versions of
                    extensions</a><a href="#registry-public-enable-alias">Use aliases to refer to
                    extensions</a><a href="#registry-commonly-used-commands-public-extensions">Commonly used
                    AWS CLI commands for working with public extensions</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="registry-public">Use third-party public extensions from the CloudFormation
                registry</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>To use a third-party public extension in your template, you must first
                <em>activate</em> the extension for the account and Region where you
            want to use it. Activating an extension makes it usable in stack operations in the
            account and Region where it's activated. </p><p>When you activate a third-party public extension, CloudFormation creates an entry in your
            account's extension registry for the activated extension as a private extension. This
            allows you to set any configuration properties the extension includes. Configuration
            properties define how the extension is configured for a given AWS account and
            Region.</p><p>In addition to setting configuration properties, you can also customize the extension
            in the following ways:</p><div class="itemizedlist">
             
             
             
        <ul class="itemizedlist"><li class="listitem">
                <p>Specify the execution role CloudFormation uses to activate the extension, in
                    addition to configure logging for the extension.</p>
            </li><li class="listitem">
                <p>Specify whether the extension is automatically updated when a new minor or
                    patch version becomes available.</p>
            </li><li class="listitem">
                <p>Specify an alias to use rather than the third-party public extension name.
                    This can help avoid naming collisions between third-party extensions.</p>
            </li></ul></div><div class="highlights"><h6>Topics</h6><ul><li><p><a href="#registry-public-enable-execution-role">Configure an execution role
                    with IAM permissions and a trust policy for public extension access</a></p></li><li><p><a href="#registry-public-enable-auto">Automatically use new versions of
                    extensions</a></p></li><li><p><a href="#registry-public-enable-alias">Use aliases to refer to
                    extensions</a></p></li><li><p><a href="#registry-commonly-used-commands-public-extensions">Commonly used
                    AWS CLI commands for working with public extensions</a></p></li><li><p><a href="./registry-public-activate-extension.html">Activate a third-party public
                    extension in your account</a></p></li><li><p><a href="./registry-public-update-extension-console.html">Update a public
                    third-party extension in your account</a></p></li><li><p><a href="./registry-public-deactivate-extension.html">Deactivate third-party public
                    extensions in your account</a></p></li></ul></div>
            <h2 id="registry-public-enable-execution-role">Configure an execution role
                    with IAM permissions and a trust policy for public extension access</h2>
            <p>When you activate a public extension from the CloudFormation registry, you can provide
                an execution role that gives CloudFormation the necessary permissions to invoke that
                extension in your AWS account and Region.</p>
            <p>The permissions required for the execution role are defined in the handler section
                of the extension schema. You must create an IAM policy that grants the specific
                permissions needed by the extension and attach it to the execution role. </p>
            <p>In addition to the permissions policy, the execution role must also have a trust
                policy that allows CloudFormation to assume the role. Follow the guidance at <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_create_for-custom.html">Create a role using custom trust policies</a> in the
                    <em>IAM User Guide</em> to create a role with a custom trust
                policy.</p>
             
                <h3 id="registry-public-enable-execution-role-trust-policy">Trust
                        relationship</h3>
                <p>The following shows example trust policies you can use.</p>
                <p>You can optionally restrict the scope of the permission for cross-service
                    confused deputy prevention by using one or more global condition context keys
                    with the <code class="code">Condition</code> field. For more information, see <a href="./cross-service-confused-deputy-prevention.html">Cross-service confused deputy
      prevention</a>.</p>
                <div class="itemizedlist">
                     
                     
                <ul class="itemizedlist"><li class="listitem">
                        <p>Set the <code class="code">aws:SourceAccount</code> value to your account
                            ID.</p>
                    </li><li class="listitem">
                        <p>Set the <code class="code">aws:SourceArn</code> value to your extension's
                            ARN.</p>
                    </li></ul></div>
                 
                    <h6>Example trust policy 1</h6>
                    <p>The following is an example IAM role trust policy for a resource type
                        extension.</p>
                 
                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><!--DEBUG: cli (json)--><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement":[
        <span>{</span>
            "Effect": "Allow",
            "Principal":<span>{</span>
                "Service": "resources.cloudformation.amazonaws.com"
            },
            "Action":"sts:AssumeRole",
            "Condition":<span>{</span>
                "StringEquals":<span>{</span>
                    "aws:SourceAccount":"<code class="replaceable">123456789012</code>"
                },
                "StringLike":<span>{</span>
                    "aws:SourceArn":"<code class="replaceable">arn:aws:cloudformation:us-west-2:123456789012:type/resource/Organization-Service-Resource/*</code>"
                }
            }
        }
    ]
}</code></pre>
                 
                    <h6>Example trust policy 2</h6>
                    <p>The following is an example IAM role trust policy for a Hook
                        extension.</p>
                 
                <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><!--DEBUG: cli (json)--><code class="json "><span>{</span>
    "Version":"2012-10-17",
    "Statement":[
        <span>{</span>
            "Effect":"Allow",
            "Principal": <span>{</span>
                "Service": [
                    "resources.cloudformation.amazonaws.com",
                    "hooks.cloudformation.amazonaws.com"
                ]
            },
            "Action":"sts:AssumeRole",
            "Condition":<span>{</span>
                "StringEquals":<span>{</span>
                    "aws:SourceAccount":"<code class="replaceable">123456789012</code>"
                },
                "StringLike":<span>{</span>
                     "aws:SourceArn":"<code class="replaceable">arn:aws:cloudformation:us-west-2:123456789012:type/hook/Organization-Service-Hook/*</code>"
                }
            }
        }
    ]
}</code></pre>
             
         
            <h2 id="registry-public-enable-auto">Automatically use new versions of
                    extensions</h2>
            <p>When you activate an extension, you can also specify the extension type to use the
                latest minor version. Your extension type updates the minor version, whenever the
                publisher releases a new version on your activated extension.</p>
            <p>For example, the next time you perform a stack operation, such as creating or
                updating a stack, using a template that includes that extension, CloudFormation uses the
                new minor version.</p>
            <p>Updating to a new extension version, either automatically or manually and doesn't
                affect any extension instances already provisioned in stacks.</p>
            <p>CloudFormation treats major version updates of extensions as potentially containing
                breaking changes, and so requires you to manually update to a new major version of
                an extension.</p>
            <p>Extensions published by AWS are activated by default for all accounts and
                Regions where they're available, and always use the latest version available in each
                AWS Region.</p>
            <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Important</h6></div><div class="awsdocs-note-text"><p>Because you control if and when extensions gets updated to the latest version
                    in your account, you could end up with different versions of the same extension
                    deployed in different accounts and Regions.</p><p>This might potentially lead to unexpected results when using the same
                    template, containing that extension, across those accounts and Regions.</p></div></div>
         
            <h2 id="registry-public-enable-alias">Use aliases to refer to
                    extensions</h2>
            <p>You can't activate more than one extension with a given name in a given
                AWS account and Region. Because different publishers may offer public extensions
                with the same extension name, CloudFormation lets you specify an alias for any
                third-party public extension you activate.</p>
            <p>If you specify an alias for the extension, CloudFormation treats the alias as the
                extension type name within the account and Region. You must use the alias to refer
                to the extension in your templates, API calls, and CloudFormation console.</p>
            <p>Extension aliases must be unique within a given account and Region. You can
                activate the same public resource multiple times in the same account and Region,
                using different type name aliases.</p>
            <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Important</h6></div><div class="awsdocs-note-text"><p>While extension aliases are only required to be unique in a given account and
                    Region, we strongly suggest that users <em>not</em> assign the same
                    alias to different third-party public extensions across accounts and Regions.
                    Doing so could lead to unexpected results when using a template that contains
                    the extension alias across multiple accounts or Regions.</p></div></div>
         
            <h2 id="registry-commonly-used-commands-public-extensions">Commonly used
                    AWS CLI commands for working with public extensions</h2>
            <p>The commonly used commands for working with public extensions include: </p>
            <div class="itemizedlist">
                 
                 
                 
                 
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p><a href="https://docs.aws.amazon.com/cli/latest/reference/cloudformation/activate-type.html">activate-type</a> to activate a public
                        third-party module or resource type in your account.</p>
                </li><li class="listitem">
                    <p><a href="https://docs.aws.amazon.com/cli/latest/reference/cloudformation/set-type-configuration.html">set-type-configuration</a> to specify the
                        configuration data for an extension in your account and to disable and
                        enable Hooks.</p>
                </li><li class="listitem">
                    <p><a href="https://docs.aws.amazon.com/cli/latest/reference/cloudformation/list-types.html">list-types</a> to list the extensions in your
                        account.</p>
                </li><li class="listitem">
                    <p><a href="https://docs.aws.amazon.com/cli/latest/reference/cloudformation/describe-type.html">describe-type</a> to return detailed information
                        about a specific extension or specific extension version, including current
                        configuration data.</p>
                </li><li class="listitem">
                    <p><a href="https://docs.aws.amazon.com/cli/latest/reference/cloudformation/set-type-default-version.html">set-type-default-version</a> to specify which
                        version of an extension is the default version.</p>
                </li><li class="listitem">
                    <p><a href="https://docs.aws.amazon.com/cli/latest/reference/cloudformation/deactivate-type.html">deactivate-type</a> to deactivate a public
                        third-party module or resource type that was previously activated in your
                        account.</p>
                </li></ul></div>
        <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./registry-view.html">View the available and activated
                extensions</div><div id="next" class="next-link" accesskey="n" href="./registry-public-activate-extension.html">Activate a public
                    extension</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/registry-public.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CloudFormation&amp;topic_url=https://docs.aws.amazon.com/en_us/AWSCloudFormation/latest/UserGuide/registry-public.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>